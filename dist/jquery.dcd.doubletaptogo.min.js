/*
 Original Plugin by Osvaldas Valutis, www.osvaldas.info
 http://osvaldas.info/drop-down-navigation-responsive-and-touch-friendly
 Available for use under the MIT License
 */
/**
 * jquery-doubleTapToGo plugin
 * Copyright 2017 DACHCOM.DIGITAL AG
 * @author Marco Rieser
 * @author Volker Andres
 * @author Stefan Hagspiel
 * @version 3.0.0
 * @see https://github.com/dachcom-digital/jquery-doubleTapToGo
 */
!function(t,e,i,n){"use strict";function s(e,i){this.element=e,this.settings=t.extend({},a,i),this._defaults=a,this._name=o,this.init()}var o="doubleTapToGo",a={automatic:!0,selectorClass:"doubletap",selectorChain:"li:has(ul)"};t.extend(s.prototype,{preventClick:!1,currentTap:t(),init:function(){var i=this;(e.ontouchstart!==n||e.navigator.msMaxTouchPoints||e.navigator.userAgent.toLowerCase().match(/windows phone os 7/i))&&(e.navigator.msPointerEnabled?t(this.element).get(0).addEventListener("MSPointerDown",i._tap.bind(i),!1):e.navigator.pointerEnabled&&t(this.element).get(0).addEventListener("pointerdown",i._tap.bind(i),!1),t(this.element).on("click","."+this.settings.selectorClass,this._click.bind(this)).on("touchstart","."+this.settings.selectorClass,this._tap.bind(this)).on("remove",this._destroy.bind(this)),this._addSelectors())},_addSelectors:function(){this.settings.automatic===!0&&t(this.element).find(this.settings.selectorChain).addClass(this.settings.selectorClass)},_click:function(e){this.preventClick?e.preventDefault():this.currentTap=t()},_tap:function(e){var i=t(e.target).closest("li");return i.hasClass(this.settings.selectorClass)?i.get(0)===this.currentTap.get(0)?void(this.preventClick=!1):(this.preventClick=!0,this.currentTap=i,void e.stopPropagation()):void(this.preventClick=!1)},_destroy:function(){t(this.element).off(),e.navigator.msPointerEnabled&&t(this.element).get(0).removeEventListener("MSPointerDown",this._tap),e.navigator.pointerEnabled&&t(this.element).get(0).removeEventListener("pointerdown",this._tap)},reset:function(){this.currentTap=t()}}),t.fn[o]=function(e){var i,a=arguments;return e===n||"object"==typeof e?this.each(function(){t.data(this,o)||t.data(this,o,new s(this,e))}):"string"==typeof e&&"_"!==e[0]&&"init"!==e?(this.each(function(){var n=t.data(this,o),r="destroy"===e?"_destroy":e;n instanceof s&&"function"==typeof n[r]&&(i=n[r].apply(n,Array.prototype.slice.call(a,1))),"destroy"===e&&t.data(this,o,null)}),i!==n?i:this):void 0}}(jQuery,window,document);